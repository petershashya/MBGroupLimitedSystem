<!DOCTYPE html>
   <html>
   {% load static %}
   {%load crispy_forms_tags%}

   <head>
     <!-- Basic -->
     <meta charset="utf-8" />
     <meta http-equiv="X-UA-Compatible" content="IE=edge" />
     <!-- Mobile Metas -->
     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
     <!-- Site Metas -->
     <meta name="keywords" content="" />
     <meta name="description" content="" />
     <meta name="author" content="" />
     <title>MBGroupLimited</title>
     
       <!-- bootstrap-->
       <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
     <!-- boostratp icons -->
     <!-- link file -->
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
     <!-- bootstrap core css -->
     <link rel="stylesheet" type="text/css" href="{% static '/css/bootstrap.css' %}" />
   
     <!-- fonts style -->
     <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">
   
     <!--owl slider stylesheet -->
     <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />
   
     <!-- font awesome style -->
     {% comment %} <link href="{% static '/css/font-awesome.min.css' %}" rel="stylesheet" /> {% endcomment %}
     <!-- nice select -->
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/css/nice-select.min.css" integrity="sha256-mLBIhmBvigTFWPSCtvdu6a76T+3Xyt+K571hupeFLg4=" crossorigin="anonymous" />
     <!-- datepicker -->
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.css">
     <!-- Custom styles for this template -->
     <link href=" {% static '/css/style.css' %}" rel="stylesheet" />
     <!-- responsive style -->
     <link href=" {% static '/css/responsive.css' %}" rel="stylesheet" />
   

     <!-- for about slide design -->
      <!-- Bootstrap CSS -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<!-- Swiper CSS -->
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
<!-- Boxicons CSS -->
<link href="https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css" rel="stylesheet" />
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">



     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

     <style>

      .body{
        font-family: 'Roboto', 'Open Sans', sans-serif;
        font-size: 14px;
        color: #333; /* Dark gray color */
        line-height: 1.6;
    }

      #offcanvas{
        background-color:#0a4e49";
      }

      .homeimg{
      width: 100%;
      height:80vh;
      object-fill:cover;
      align-items: center;
      background-image:linear-gradient(to left,rgba(9, 53, 71, 1), 40%, transparent 60%),
      url("{% static '/images/MB/Reguratory.jpeg' %}") ;
      background-size:cover; /* Light background image */
      background-position:center;
      backgroud-repeat:no-repeate; 
      color: transparent;
  }   
    
.homevideo {
    position: relative;
    width: 100%%;
    height: 80vh;
    margin: 0 auto; /* center horizontally */
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 12px; /* optional: rounded corners */
    box-shadow: 0 4px 20px rgba(0,0,0,0.3); /* optional: drop shadow */
}

.homevideo video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 1;
}

.homevideo .overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to right, rgba(9, 53, 71, 1) 20%, transparent 50%);
    z-index: 2;
}

.homevideo #description {
    position: relative;
    z-index: 3;
    padding: 20px;
    color: #fff;
    text-align: center;
}

    #getservice{
      color:white;
      background-color:rgba(9, 53, 71, 1);
      border:1px solid white;
      border-radius:20px;
      font-size:16px;
      padding-left:15px;
      padding-right:15px;
      padding-top:5px;
      padding-bottom:5px;
      /* border-left:1px solid rgb(241, 248, 248) ;
      box-shadow:0px 1px 2px white;  */
    }

    #getservice:hover{
      padding-left:16px;
      padding-right:16px;
      padding-top:5px;
      padding-bottom:5px;
    }

    .navbarbutton {
      color: #ffffff;
      border: 0;
      padding: 5px 0px;
      height: 35px;
      width: 40px;
      overflow: hidden;
      white-space: nowrap; 
      transition: all 0.8s ease;
      border-radius: 20px;
      display: inline-flex; 
      align-items: center;
      justify-content: center; 
      font-size: 1rem;
      position: relative;
    }
    
    .navbarbutton:hover {
      width: 150px; /* expand width on hover */
      padding: 5px 15px;
      background-color: #ffffff;
      color:rgba(9, 53, 71, 1);
      cursor:pointer;
    }
    
    .navbarbutton:hover::after {
      content: attr(data-label);
      margin-left: 10px;
      color:rgba(9, 53, 71, 1);
      cursor:pointer;
    } 

    .hometab{
      color:white;
      font-size: 1.3rem;
      transition: all 0.3s ease;
    }
    .hometab:hover{
      color:white;
      font-size: 1.5rem;
      cursor:pointer;
    }

    .adveradds{
      font-size:2rem;
      transition:all 0.5s ease;
      cursor:pointer;
    }

    .adveradds:hover{
      font-size:2.5rem;
      transition: all 0.5s ease;
      cursor:pointer;
    }

    #footer{
      width:100%%;
    }

    #socialbtn{
      font-size:1.5rem;
      transition: all 0.5s ease;
      cursor:pointer;
    }

    #socialbtn:hover{
      font-size:2rem;
      transition: all 0.5s ease;
      cursor:pointer;
    }

    .servicesdiv{
    display: flex;
    overflow-x: auto; /* Enable horizontal scrolling */
  }





    .top_providers{
      border-radius:30px;
    }

    #provider_category{
      background-color:rgb(219, 228, 231);
      border-radius:20px;
    }


    .nav-link{
      color:rgba(9, 53, 71, 1);
      background-color:rgb(226, 240, 233);
    }

    .nav-link:hover{
      color:white;rgba(9, 53, 71, 1);
    }

    .nav-link:active{
      color:white;
      background-color:rgba(9, 53, 71, 1);
    }

    .categoryimg{
      border-radius:15px;
    }

    .form_img{
      width: 100%;
      background-image:url("{% static '/images/loginimg2.jpeg' %}") ;
      background-size:cover; /* Light background image */
      background-position:center;
      backgroud-repeat:no-repeate; 
      color: transparent;
      border-radius:25px;
    }

    .formbody{
      background: rgb(37, 85, 63);
      backdrop-filter: blur(15px);
      border-radius:25px;
      padding-top:70px;
      padding-bottom:70px;
    }

    .coverform{
      margin-left:100px;
      margin-right:100px;
    }

    #category_title{
      border-left:3px solid rgba(9, 53, 71, 1);
    }

    #getservice{
      background-color:rgba(9, 53, 71, 1);
      //font-size:1rem;
      font-style:bold;
      transition: all 0.5s ease;
    }

    #getservice:hover{
      background-color:rgba(14, 83, 110, 1);
      //font-size:1.1rem;
      font-style:bold;
      cursor:pointer;
      transition: all 0.5s ease;
    }

    #advertisment{
      background-color:rgba(9, 53, 71, 1);
      font-style:bold;
      transition: all 0.5s ease;
    }

    #advertisment:hover{
      background-color:rgba(9, 53, 71, 1);
      font-style:bold;
      cursor:pointer;
      transition: all 0.5s ease;
    }

    #add_list{
       border-radius:25px; 
       color:rgba(9, 53, 71, 1);
       background-color:rgba(73, 150, 114, 1);
    }
      #add_list:hover{
       border-radius:25px; 
       color:white; 
       background-color:rgba(46, 94, 72, 1);
       cursor:pointer;
    }


    .corediv_service{
      background-color:rgba(245, 247, 248, 1);
      cursor:pointer;
      transition: all 0.5s ease;
    }
    .corediv_service:hover{
      background-color:rgba(228, 238, 241, 1);
      cursor:pointer;
      transition: all 0.5s ease;
    }

    
    .core_service{
      border-radius:35px; 
      color:rgba(9, 53, 71, 1); 
      background-color:rgba(216, 227, 231, 1);
      cursor:pointer;
      transition: all 0.5s ease;
    }
    .core_service:hover{
      border-radius:35px; 
      color:rgba(9, 53, 71, 1); 
      background-color:rgba(158, 189, 201, 1);
      cursor:pointer;
      transition: all 0.5s ease;
    }

    .choose{
       border-radius:20px; 
       color:rgba(9, 53, 71, 1); 
       background-color:rgba(228, 243, 248, 1);
       cursor:pointer;
       transition: all 0.5s ease;
    }
      .choose:hover{
       border-radius:20px; 
       color:rgba(9, 53, 71, 1); 
       background-color:rgba(209, 228, 235, 1);
       cursor:pointer;
       transition: all 0.5s ease;
    }

    .about_us{
      border-left:solid 3px rgba(9, 53, 71, 1); 
      border-right:solid 3px rgba(9, 53, 71, 1); 
      background-color:rgba(228, 243, 248, 1);
      cursor:pointer;
      transition: all 0.5s ease;
    }
      
    .about_us:hover{
      border-left:solid 3px rgba(9, 53, 71, 1); 
      border-right:solid 3px rgba(9, 53, 71, 1); 
      background-color:rgba(209, 226, 231, 1);
      cursor:pointer;
      transition: all 0.5s ease;
    }

    
    
     /*start animation for offcanvas */
    @keyframes slideDown {
      from {
        transform: translateY(-50px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    } 
     
    #offcanvas{
      animation: slideDown 1.3s ease-out;
    } 


  /* Slide and transilate */
    @keyframes slideIn {
      from { transform: translateX(-100px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }


    /* Slide and transilate from right to left description */
    @keyframes slideFromRight{
      from { transform: translateX(100px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    #description {
      animation: slideFromRight 1.5s ease-out;
    }


    /* Slide and transilate from left to right getservice */
    @keyframes slideFromLeft{
      from { transform: translateX(-100px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    #getservice {
      animation: slideFromLeft 1.3s ease-out;
    }

      
    /* Slide and transilate from left to right advertisment */
    @keyframes slideFromLeft{
      from { transform: translateX(-100px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    #advertisment {
      animation: slideFromLeft 1.3s ease-out;
    }


  /* Slide and transilate from right to left */
@keyframes slideFromRight{
  from { transform: translateX(100px); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}
.servicesdiv {
  animation: slideFromRight 1.3s ease-out;
}


/* Slide and transilate from bottom to top */
@keyframes slideFromBottom{
  from { transform: translateY(100px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}
#footer, .footer_section {
  animation: slideFromBottom 1.3s ease-out;
}

  /* Keyframes for fade-in */
    @keyframes fadeIn {
        0% {
            opacity: 0;
            transform: translateY(20px);
        }
        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* animation division div styling */
    .animation_division{
    }

    /* Class to trigger fade-in animation */
    .fade-in {
        animation: fadeIn 1.5s ease-in-out forwards;
    }
      
    {% comment %} /*animation for  description*/
     @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }
    .description {
      overflow: hidden;
      white-space: nowrap;
      width: 0;
      animation: typing 5s steps(30, end) forwards;
    }  {% endcomment %}


    {% comment %} /*start animation for description */
    @keyframes slideFromBottom{
      from { transform: translateY(100px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    #footer, #description {
      animation: slideFromBottom 0.3s ease-out;
    } {% endcomment %}


</style>
</head>
<script>
	setTimeout(function() {
		var messages = document.querySelectorAll('.message');
		messages.forEach(function(message) {
			message.style.display = 'none';
		});
	}, 3000);
</script>


{% comment %} <script>
    // Detect scroll and show div
    const smallDiv = document.getElementById('scrollDiv');

    window.addEventListener('scroll', () => {
        if (window.scrollY > 100) { // Show div after 100px scroll
            smallDiv.classList.add('fade-in');
        } else {
            smallDiv.classList.remove('fade-in'); // Optional: hide again when scroll up
        }
    });
</script> {% endcomment %}



  <link rel="shortcut icon" type="image/x-icon" href="{% static 'images/clan_image2.jpg' %}">

      <body class="bg-white">

  <!-- Navbar -->
  <div class="d-flex justify-content-between align-items-center p-2 fixed-top w-100"
       id="offcanvas" style="background-color:rgba(9, 53, 71, 1);">

    <span>
      <a class="text-light text-decoration-none align-items-end" style="font-size:1.5rem;" href="{% url 'home' %}">
        <img src="{% static 'images/MB/MB Logo.png' %}" alt="" class="rounded-pill " style="width:50px; height:40px">
      </a>
    </span>

    <!-- login messages -->
    {% if messages %}
      {% for message in messages %}
        <div class="d-flex justify-content-center align-items-center w-100 position-absolute" style="top:90px;">
          <span class="message py-1 px-3 text-center"
                style="color:#fff; border-radius:15px; background-color:rgba(37, 105, 136, 1);">
            {{ message }}
          </span>
        </div>
      {% endfor %}
    {% endif %}
    <!-- end login message -->

    <span class="p-1" style="background-color:rgb(4, 70, 100); border-radius:25px;">
      <span class="navbartabs text-decoration-none" id="navbartabs">
        {% if user.is_authenticated %}
          <a class="bi bi-briefcase-fill text-decoration-none ml-1 navbarbutton" data-label="Services"  href="{% url 'service' %}"></a>
          <a class="bi bi-graph-up-arrow text-decoration-none ml-1 navbarbutton" data-label="Mission" data-bs-toggle="modal" data-bs-target="#mission"></a>
          <a class="bi bi-coin text-decoration-none ml-1 navbarbutton" data-label="CoreValues" data-bs-toggle="modal" data-bs-target="#CoreValues"></a> 
          {% comment %} <a class="bi bi-people-fill text-decoration-none ml-1 navbarbutton" data-label="Patners"  ></a>
          <a class="bi bi-person-wheelchair text-decoration-none ml-1 navbarbutton" data-label="Clients"  ></a> {% endcomment %}
          <a class="bi bi-person-fill text-decoration-none ml-2 navbarbutton" data-label="Account" href="{% url 'account' %}" ></a> 
        {% else %}
          <a class="bi bi-briefcase-fill text-decoration-none ml-1 navbarbutton" data-label="Services" href="{% url 'service' %}"></a>
          {% comment %} <a class="bi bi-binoculars-fill text-decoration-none ml-1 navbarbutton" data-label="Mission&Vission" ></a>{% endcomment %}
          <a class="bi bi-graph-up-arrow text-decoration-none ml-1 navbarbutton" data-label="Mission" data-bs-toggle="modal" data-bs-target="#mission"></a>
          <a class="bi bi-coin text-decoration-none ml-1 navbarbutton" data-label="CoreValues" data-bs-toggle="modal" data-bs-target="#CoreValues"></a> 
          {% comment %} <a class="bi bi-arrow-right-circle text-decoration-none ml-2 navbarbutton" data-label="Login" href="{% url 'login' %}"></a> {% endcomment %}
          {% endif %}
      </span>
    </span>

  </div>
  <!-- End Navbar -->

  <!-- Main body -->
  {% block content %}
  {% endblock content %}


  <!-- Footer Info Section -->
  <section class="row p-4 m-0 w-100" id="footer" style="background-color:rgba(9, 53, 71, 1);">
    <div class="col-sm">
      <h5 class="text-light text-center mb-3">OUR MISSION</h5>
      <p class="text-light">
        To deliver quality, results-driven consulting services with competence, diligence, 
        and innovation. We provide creative and impactful solutions that promote growth, sustainability,
         financial inclusion, and positive impact across Africa.
      </p>
    </div>

    <div class="col-sm">
      <h5 class="text-light text-center mb-3">OUR VISION</h5>
      <p class="text-light">
       To be the leading advisory and consultancy partner in Africa, recognized for excellence, 
       innovation, and the delivery of
      outstanding results that empower businesses, communities, and economies.
      </p>
    </div>

        <div class="col-sm">
      <h5 class="text-light text-center mb-3">CORE VALUES</h5>
      <p class="text-light">
        • Integrity – Upholding the highest ethical standards in all our engagements, ensuring trust and transparency.
        • Professionalism – Delivering services with competence, diligence, and commitment to excellence.
        • Innovation – Developing creative and impactful solutions tailored to changing client and market needs.
        • Excellence – Striving for outstanding results in every service, exceeding expectations consistently.
        • Client-Centricity – Placing client needs at the heart of our work, ensuring satisfaction and long-term partnerships.
      </p>
    </div>
  </div>


  <div class="row">
    <div class="col-sm">
      <h5 class="text-light mt-3">CONTACT US</h5>
      <p class="text-light">
        {% comment %} <i class="bi bi-phone"></i> +225 715455649 | +225 675788670<br>
        <i class="bi bi-envelope"></i> P.O.BOX 33951<br>
        <i class="bi bi-geo-alt"></i> Dar-es-Salaam, Tanzania<br>
        <i class="bi bi-envelope"></i> info@rems-africa.com | rems.africaconsultancy@gmail.com
        <a style="cursor:pointer;" href="https://www.rems.africa.com">https://www.rems.africa.com</a> {% endcomment %}
        {% comment %} {% for userdetail in userdetails %} {% endcomment %}
        <i class="bi bi-phone"></i> {{aboutdetail.mobile_contact}}<br>
        <i class="bi bi-envelope"></i> {{aboutdetail.address}}<br>
        <i class="bi bi-geo-alt"></i> {{aboutdetail.region}}<br>
        <i class="bi bi-envelope"></i> {{aboutdetail.email}}
        <a class="bi bi-link" style="cursor:pointer; font-size:25;" href="{{aboutdetail.website_link}}">{{aboutdetail.website_link}}</a>
        {% comment %} {% endfor %} {% endcomment %}
      </p>
    </div>

        <div class="col-sm-3 mt-2">
      <h5 class="text-light text-center mb-3">SOCIAL MEDIA</h5>
      <div class="d-flex justify-content-center align-items-center gap-3">
        <a data-bs-toggle="tooltip" title="{{aboutdetail.instagram_account}}"  class="text-decoration-none" style="cursor:pointer;"><i class="bi bi-instagram text-light" style="font-size:1.8rem"></i></a>
        <a data-bs-toggle="tooltip" title="{{aboutdetail.youtube_account}}" href="{{userdetail.youtube_account}}" class="text-decoration-none" style="cursor:pointer;"><i class="bi bi-youtube text-light" style="font-size:2.5rem"></i></a>
        <a data-bs-toggle="tooltip" title="{{aboutdetail.facebook_account}}"  class="text-decoration-none" style="cursor:pointer;"><i class="bi bi-facebook text-light" style="font-size:1.8rem"></i></a>
        <a data-bs-toggle="tooltip" title="{{aboutdetail.twitter_account}}" class="text-decoration-none" style="cursor:pointer;"><i class="bi bi-twitter text-light" style="font-size:1.8rem"></i></a>
      </div>
    </div>
  </div>
  </section>
  <!-- End Footer Info -->

  <!-- Footer Section -->
  <footer class="footer_section w-100" style="background-color:rgba(9, 53, 71, 1);">
    <hr class="mt-0 border border-light">
    <div class="container text-center">
      <p class="text-light mb-0">
        <span class="d-flex justify-content-center align-items-center gap-1">
        <img src="{% static 'images/MB/MB Logo.png' %}" alt="" class="pill mt-1" style="width:100px; height:70px; border-radius:35px;">
        </span>
        <b class="text-uppercase">Group Limited</b><br>
        &copy; <span id="displayYear"></span> All Rights Reserved<br>
        <span class="text-warning">Developed & mantained By MB Group Limited</span>
      </p>
    </div>
  </footer>

   
</section>


  <!-- Bootstrap JS and Dependencies -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <!-- footer section -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- jQery -->
  <script src="{% static 'js/jquery-3.4.1.min.js' %}"></script>
  <!-- bootstrap js -->
  <script src="{% static 'js/bootstrap.js' %}"></script>
  <!-- nice select -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/js/jquery.nice-select.min.js" integrity="sha256-Zr3vByTlMGQhvMfgkQ5BtWRSKBGa2QlspKYJnkjZTmo=" crossorigin="anonymous"></script>
  <!-- owl slider -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
  <!-- datepicker -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>
  <!-- custom js -->
  <script src="{% static 'js/custom.js' %}"></script>
  
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>





  <!-- Start Make Javascript fussions -->
  <script>
    const navbarbutton = document.querySelector('.navbarbutton');
    const navbartabs = document.getElementById('navbartabs');
  
    navbarbutton.addEventListener('click', () => {
      navbartabs.classList.toggle('active');
      navbarbutton.focus();
    });
  </script>

  <!-- detect div scroll -->
<script>
    const smallDiv = document.getElementById('scrollDiv');
    let hasFadedIn = false; // To ensure it fades only once

    const smallDiv2 = document.getElementById('scrollDiv2');
    let hasFadedIn2 = false; // To ensure it fades only once

    const smallDiv3 = document.getElementById('scrollDiv3');
    let hasFadedIn3 = false; // To ensure it fades only once

    const smallDiv4 = document.getElementById('scrollDiv4');
    let hasFadedIn4 = false; // To ensure it fades only once

    const smallDiv5 = document.getElementById('scrollDiv5');
    let hasFadedIn5 = false; // To ensure it fades only once


    window.addEventListener('scroll', () => {
        if (!hasFadedIn && window.scrollY > 100) { // Trigger after 100px scroll
            smallDiv.classList.add('fade-in');
            hasFadedIn = true; // Prevent further fade-ins
        }
        if (!hasFadedIn2 && window.scrollY > 1300) { // Trigger after 100px scroll
            smallDiv2.classList.add('fade-in');
            hasFadedIn2 = true; // Prevent further fade-ins
        }
        if (!hasFadedIn3 && window.scrollY > 1700) { // Trigger after 100px scroll
            smallDiv3.classList.add('fade-in');
            hasFadedIn3 = true; // Prevent further fade-ins
        }
        if (!hasFadedIn4 && window.scrollY > 2100) { // Trigger after 100px scroll
            smallDiv4.classList.add('fade-in');
            hasFadedIn4 = true; // Prevent further fade-ins
        }
        if (!hasFadedIn5 && window.scrollY > 2500) { // Trigger after 100px scroll
            smallDiv5.classList.add('fade-in');
            hasFadedIn5 = true; // Prevent further fade-ins
        }
    });
</script>



<!-- start general post -->
<script>
$(document).ready(function() {
    // CSRF helper
    function getCookie(name) {
        var cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            var cookies = document.cookie.split(';');
            for (var i = 0; i < cookies.length; i++) {
                var cookie = cookies[i].trim();
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
    var csrftoken = getCookie('csrftoken');

    // ---------------- Generic function to show modal ----------------
    function showModal(buttonClass, url, modalId) {
        $(document).on('click', buttonClass, function() {
            $.ajax({
                url: url,
                method: 'GET',
                success: function(response) {
                    $('body').append(response);
                    $(modalId).modal('show');
                    $(modalId).on('hidden.bs.modal', function() {
                        $(this).remove();
                    });
                },
                error: function() {
                    alert('An error occurred while loading the form.');
                }
            });
        });
    }

    // ---------------- Generic function to post form ----------------
    function postForm(buttonId, formId, modalId) {
        $(document).on('click', buttonId, function() {
            var button = $(this);
            var form = $(formId)[0];
            var formData = new FormData(form);
            button.prop('disabled', true);
            $.ajax({
                url: $(form).attr('action'),
                method: 'POST',
                data: formData,
                processData: false,
                contentType: false,
                headers: { 'X-CSRFToken': csrftoken },
                success: function(response) {
                    $(modalId).modal('hide');
                    button.prop('disabled', false);
                    location.reload(); // Refresh page to show new entry
                },
                error: function(xhr) {
                    button.prop('disabled', false);
                    if (xhr.status === 400) {
                        alert('You have already posted this entry.');
                    } else {
                        alert('An error occurred while posting the form.');
                    }
                }
            });
        });
    }

    // ---------------- Initialize Modals and Form Posts ----------------
    // Partner
    showModal('#partner-btn', '/post_partner/', '#partnerModal');
    postForm('#postpartner_button', '#partnerForm', '#partnerModal');

    // Client
    showModal('#client-btn', '/post_client/', '#clientModal');
    postForm('#postclient_button', '#clientForm', '#clientModal');

    // Certificate
    showModal('#certificate-btn', '/post_certificate/', '#certificateModal');
    postForm('#postcertificate_button', '#certificateForm', '#certificateModal');
});
</script>



<script>
$(document).ready(function () {
    // ---------------- CSRF helper ----------------
    function getCookie(name) {
        var cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            var cookies = document.cookie.split(';');
            for (var i = 0; i < cookies.length; i++) {
                var cookie = cookies[i].trim();
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
    var csrftoken = getCookie("csrftoken");

    // ---------------- Generic Show Modal ----------------
    function showModal(buttonClass, urlTemplate, modalId) {
        $(document).on("click", buttonClass, function (e) {
            e.preventDefault();
            var objId = $(this).data("id");  // dynamic ID from button
            var url = urlTemplate.replace("0", objId); // inject ID
            $.ajax({
                url: url,
                method: "GET",
                success: function (response) {
                    $("body").append(response);
                    $(modalId).modal("show");
                    $(modalId).on("hidden.bs.modal", function () {
                        $(this).remove(); // clean after closing
                    });
                },
                error: function () {
                    alert("Error loading modal form.");
                },
            });
        });
    }

    // ---------------- Generic Post Form ----------------
    function postForm(buttonId, formId, modalId) {
        $(document).on("click", buttonId, function () {
            var button = $(this);
            var form = $(formId)[0];
            var formData = new FormData(form);
            button.prop("disabled", true);
            $.ajax({
                url: $(form).attr("action"),
                method: "POST",
                data: formData,
                processData: false,
                contentType: false,
                headers: { "X-CSRFToken": csrftoken },
                success: function (response) {
                    $(modalId).modal("hide");
                    button.prop("disabled", false);
                    location.reload(); // refresh table
                },
                error: function () {
                    button.prop("disabled", false);
                    alert("Error submitting form.");
                },
            });
        });
    }

    // ---------------- USERS (Accounts/Staffs) ----------------
    showModal(".edit-user-btn", "/admin_user_edit/0/", "#edituserModal");
    postForm("#postedituser_button", "#edituserForm", "#edituserModal");

    showModal(".delete-user-btn", "/admin_user_delete/0/", "#deleteuserModal");
    postForm("#postdeleteuser_button", "#deleteuserForm", "#deleteuserModal");


    //Superuser Edit
      showModal(".edit-superuser-btn", "/admin_superuser_edit/0/", "#editsuperuserModal");
      postForm("#posteditsuperuser_button", "#editsuperuserForm", "#editsuperuserModal");

      // Superuser Delete
      showModal(".delete-superuser-btn", "/admin_superuser_delete/0/", "#deletesuperuserModal");
      postForm("#postdeletesuperuser_button", "#deletesuperuserForm", "#deletesuperuserModal");


      // ---------------- PARTNERS ----------------
    showModal(".edit-partner-btn", "/partner_edit/0/", "#editpartnerModal");
    postForm("#posteditpartner_button", "#editpartnerForm", "#editpartnerModal");

    showModal(".delete-partner-btn", "/partner_delete/0/", "#deletepartnerModal");
    postForm("#postdeletepartner_button", "#deletepartnerForm", "#deletepartnerModal");

                         // CLIENTS
    showModal(".edit-client-btn", "/client_edit/0/", "#editclientModal");
    postForm("#posteditclient_button", "#editclientForm", "#editclientModal");

    showModal(".delete-client-btn", "/client_delete/0/", "#deleteclientModal");
    postForm("#postdeleteclient_button", "#deleteclientForm", "#deleteclientModal");

                        // CERTIFICATES
    showModal(".edit-certificate-btn", "/certificate_edit/0/", "#editcertificateModal");
    postForm("#posteditcertificate_button", "#editcertificateForm", "#editcertificateModal");
    
    showModal(".delete-certificate-btn", "/certificate_delete/0/", "#deletecertificateModal");
    postForm("#postdeletecertificate_button", "#deletecertificateForm", "#deletecertificateModal");

});
</script>



</body>

</html>
